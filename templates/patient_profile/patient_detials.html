{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
<link href="{% static 'libs/sweetalert2/dist/sweetalert2.min.css' %}" rel="stylesheet" type="text/css" />


{% endblock %}
{% block contents %}
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <!-- <h2>PATIENT DETAILS :</h2> -->
                {% for pd in patient_data %}
                <div class="row justify-content-end mb-md-5">
                    <div class="col-auto mt-3 ">
                        <button type="reset" onclick="location.href='/patient-profile/list/'" class="btn btn-secondary waves-effect">
                            Cancel
                        </button>
                    </div>
                    <div class="col-auto mt-3 ">
                        {% if pd.status_id == 1 %}
                        <button class='btn btn-success' onclick="Confirm('{{pd.id}}', 'Activate')">Activate</button>
                        {% else %}
                        <button class='btn btn-danger' onclick="Confirm('{{pd.id}}', 'Deactivate')">Deactivate</button>
                        {% endif %}
                        <!-- <button type="button" class="form-control btn btn-primary waves-effect btn-xs float-right" onclick="location.href='/add//'">Add New {{patient_id}}</button> -->
                    </div>  
                </div>
                <div class=" row justify-content-evenly mt-3">
                    <div class="col-md-10">
                        <div class="row">
                            <p class="col-3 pb-3"><b>Patient Name :</b></p><p class="col-3 pb-3">{{pd.patient_name|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Patient Code :</b></p><p class="col-3 pb-3">{{pd.patient_id|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Patient Type :</b></p><p class="col-3 pb-3">{{pd.patient_type|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Registered Date :</b></p><p class="col-3 pb-3">{{pd.r_date|date:"d-m-Y"|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Age (today) :</b></p><p class="col-3 pb-3">{{pd.age|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Gender :</b></p><p class="col-3 pb-3">{{pd.gender|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>PHC Name :</b></p><p class="col-3 pb-3">{{pd.phc_name|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Sub Centre :</b></p><p class="col-3 pb-3">{{pd.sbc_name|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Village :</b></p><p class="col-3 pb-3">{{pd.village_name|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Status :</b></p><p class="col-3 pb-3">{{pd.status|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Health :</b></p><p class="col-3 pb-3">{{pd.h_status|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>DM Year:</b></p><p class="col-3 pb-3">{{pd.dm_my|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>PDM Year:</b></p><p class="col-3 pb-3">{{pd.pdm_my|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>DM Detected by:</b></p><p class="col-3 pb-3">{{pd.dm_db|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>PDM Detected by:</b></p><p class="col-3 pb-3">{{pd.pdm_db|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>HT Year:</b></p><p class="col-3 pb-3">{{pd.ht_my|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>PHT Year:</b></p><p class="col-3 pb-3">{{pd.pht_my|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>HT Detected by:</b></p><p class="col-3 pb-3">{{pd.ht_db|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>PHT Detected by:</b></p><p class="col-3 pb-3">{{pd.pht_db|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Treatment :</b></p><p class="col-3 pb-3">{{pd.trmt_status|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Last visit date :</b></p><p class="col-3 pb-3">{{pd.v_date|date:"d-m-Y"|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>DM Source Treatment:</b></p><p class="col-3 pb-3">{{pd.dm_source_treatment|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>HT Source Treatment:</b></p><p class="col-3 pb-3">{{pd.ht_source_treatment|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Height :</b></p><p class="col-3 pb-3">{{pd.height|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Weight :</b></p><p class="col-3 pb-3">{{pd.weight|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Drinking :</b></p><p class="col-3 pb-3">{{pd.drinking|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Smoking :</b></p><p class="col-3 pb-3">{{pd.smoking|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Tobacco :</b></p><p class="col-3 pb-3">{{pd.tobacco|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Family history of Hypertension or diabetes :</b></p><p class="col-3 pb-3">{{pd.diabetes|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Controlled :</b></p><p class="col-3 pb-3">{{pd.controlled|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>SBP :</b></p><p class="col-3 pb-3">{{pd.sbp|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>DBP :</b></p><p class="col-3 pb-3">{{pd.dbp|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>BMI :</b></p><p class="col-3 pb-3">{{pd.bmi|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Blood Sugar Fasting :</b></p><p class="col-3 pb-3">{{pd.fbs|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Blood Sugar PP :</b></p><p class="col-3 pb-3">{{pd.pp|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Blood Sugar Random :</b></p><p class="col-3 pb-3">{{pd.random|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Signs & symptoms :</b></p><p class="col-3 pb-3">{{pd.symptoms|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Remarks :</b></p><p class="col-3 pb-3">{{pd.remarks|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Prescription :</b></p><p class="col-3 pb-3">{{pd.m_status|default_if_none:'-'}}</p>
                            <p class="col-3 pb-3"><b>Medicines :</b></p><p class="col-3 pb-3">{{pd.md_name|default_if_none:'-'}}</p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block extra_javascript %}
<script src="{% static 'libs/sweetalert2/dist/sweetalert2.min.js' %}"></script>
<script type="text/javascript" >
    function Confirm(id, title) {
        Swal.fire({
            title: "Are you sure!",
            text:"You want to "+ title +"?",
            showCancelButton: !0,
            confirmButtonColor: "#34c38f",
            cancelButtonColor: "#f46a6a",
            confirmButtonText: "Yes, "+ title +" it!",
        }).then((result) => {
            if (result.isConfirmed){
                window.location.href = '/patient/'+id+'/status/';
            };
                
        })
    };

</script>

{% endblock %}